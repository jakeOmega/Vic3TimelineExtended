# free_trade_association = {
# 	requires_approval = yes
# 	can_use_obligations = yes
	
# 	unlocking_technologies = {
# 		international_trade
# 	}

# 	potential = {
# 		always = no
# 		NOT = {
# 			is_country_type = decentralized 
# 		}
# 		OR = {
# 			has_law = law_type:law_free_trade
# 			has_law = law_type:law_protectionism
# 		}
# 		scope:target_country = {
# 			NOR = { 
# 				is_country_type = decentralized 
# 				has_law = law_type:law_isolationism
# 			}
# 		}
# 		custom_tooltip = {
# 			text = DIPLO_ACTION_RELATIONS_CORDIAL_OR_GREATER_NOT
# 			NOT = {
# 				any_country = {
# 					OR = {
# 						has_diplomatic_pact = {
# 							who = scope:target_country
# 							type = customs_union
# 						}
# 						has_diplomatic_pact = {
# 							who = scope:target_country
# 							type = free_trade_association
# 						}
# 					}
# 				}
# 			}
# 		}
# 	}

# 	possible = {
# 		always = no
# 		is_country_type = decentralized 
# 		NOT = { has_war_with = scope:target_country }
# 		NOT = { is_subject_of = scope:target_country }
# 		has_diplomatic_relevance = scope:target_country
# 		NOR = {
# 			scope:target_country = { has_law = law_type:law_isolationism }
# 			has_law = law_type:law_isolationism					
# 		}		
# 		custom_tooltip = {
# 			text = DIPLO_ACTION_RELATIONS_CORDIAL_OR_GREATER
# 			scope:target_country.relations:root >= relations_threshold:cordial
# 		}
# 		is_revolutionary = no
# 		scope:target_country = {
# 			is_revolutionary = no
# 		}
# 		custom_tooltip = {
# 			text = DIPLO_ACTION_MARKET_CONNECTION_REQUIRED
# 			OR = {	
# 				AND = {
# 					market = { has_port = yes }
# 					scope:target_country.market = { has_port = yes }
# 				}
# 				market = {
# 					any_scope_country = {
# 						is_adjacent_to_country = scope:target_country
# 					}
# 				}
# 			}
# 		}
# 		NOT = {
# 			market = {
# 				any_scope_country = {
# 					AND = {
# 						is_subject = no
# 						scope:target_country = {
# 							relations:PREV < relations_threshold:neutral
# 						}
# 					}
# 				}
# 			}
# 		}
# 	}

# 	accept_effect = {
# 		if = {
# 			limit = {
# 				has_diplomatic_pact = {
# 					who = scope:target_country
# 					type = trade_agreement
# 				}			
# 			}
# 			remove_diplomatic_pact = {
# 				country = scope:target_country
# 				type = trade_agreement
# 			}			
# 		}
# 		if = {
# 			limit = {
# 				has_diplomatic_pact = {
# 					who = scope:target_country
# 					type = customs_union
# 				}			
# 			}
# 			remove_diplomatic_pact = {
# 				country = scope:target_country
# 				type = customs_union
# 			}			
# 		}
# 		every_country = {
# 			limit = {
# 				has_diplomatic_pact = {
# 					who = ROOT
# 					type = customs_union
# 				}
# 			}
# 			add_to_temporary_list = customs_union_countries
# 		}
# 		every_in_list = {
# 			list = customs_union_countries
# 			remove_diplomatic_pact = {
# 				country = ROOT
# 				type = customs_union
# 			}
# 		}
# 		every_in_list = {
# 			list = customs_union_countries
# 			ROOT = {
# 				create_diplomatic_pact = {
# 					country = PREV
# 					type = free_trade_association
# 				}
# 			}
# 		}
# 	}

# 	pact = {
# 		cost = 25
# 		has_junior_participant = no
# 		recipient_pays_maintenance = no
# 		is_customs_union = yes
# 		can_be_used_in_sway_offers = yes
# 		sway_maneuvers_cost = 10

# 		relations_progress_per_day = 1  # At 100, +1 relations
# 		relations_improvement_max = 80		
		
# 		subject_type = subject_type_free_trade_association # A customs union is technically a type of subject, though it isn't presented this way in-game

# 		is_about_to_auto_break = {
# 		    scope:target_country.relations:root < 3
# 		}

# 		should_auto_break = {
# 			custom_tooltip = {
# 				text = DIPLO_ACTION_RELATIONS_CORDIAL_OR_GREATER_NOT

# 				# make sure to update is_about_to_auto_break when changing this:
# 				scope:target_country.relations:root < 0
# 			}
# 		}

# 		should_invalidate = {
# 			OR = {
# 				has_war_with = scope:target_country
# 				is_country_type = decentralized
# 				scope:target_country = { is_country_type = decentralized }
# 				is_subject_of = scope:target_country
# 				scope:target_country = { is_subject_of = root }
# 				scope:target_country = { has_law = law_type:law_isolationism }
# 				has_law = law_type:law_isolationism		
# 			}
# 		}

# 		break_effect = {
# 			change_relations = { country = scope:target_country value = -30 }
# 		}

# 		daily_effect = {
# 		}
# 	}

# 	ai = {
# 		check_acceptance_for_will_break = yes
# 		check_acceptance_for_will_propose = yes

# 		# This is the acceptance score for the senior part of the customs union (used for 'join customs union' action and checking )
# 		accept_score = {
# 			value = 0

# 			add = {
# 				desc = "DIPLOMATIC_ACCEPTANCE_BASE"
# 				value = -75
# 			}
			
# 			if = {
# 				limit = {
# 					NOR = {
# 						scope:actor.market = {
# 							any_scope_country = {
# 								is_adjacent_to_country = root
# 							}
# 						}
# 						scope:actor = {
# 							has_diplomatic_pact = { who = root type = customs_union }
# 						}
# 					}
# 				}
# 				add = {
# 					desc = "DIPLOMATIC_ACCEPTANCE_NOT_ADJACENT_MARKETS"
# 					value = -20
# 				}
# 			}			

# 			if = {
# 				limit = { 
# 					has_strategy = ai_strategy_economic_imperialism
# 				}
# 				add = {
# 					desc = "DIPLOMATIC_ACCEPTANCE_ECONOMIC_IMPERIALISM"
# 					add = 50
# 				}
# 			}	
			
# 			add = {
# 				desc = "DIPLOMATIC_ACCEPTANCE_GDP"
# 				value = "scope:actor.ai_gdp_comparison(root)"
# 				min = -10
# 				max = 20
# 			}			
		
# 			if = {
# 				limit = {
# 					"scope:actor.ai_ideological_opinion(root)" > 0
# 				}
# 				add = {
# 					desc = "DIPLOMATIC_ACCEPTANCE_IDEOLOGICAL_OPINION"
# 					value = "scope:actor.ai_ideological_opinion(root)"
# 					multiply = 0.5
# 					max = 20
# 				}					
# 			}
# 			else_if = {
# 				limit = {
# 					"scope:actor.ai_ideological_opinion(root)" < 0
# 				}
# 				add = {
# 					desc = "DIPLOMATIC_ACCEPTANCE_IDEOLOGICAL_OPINION_NEGATIVE"
# 					value = "scope:actor.ai_ideological_opinion(root)"
# 					multiply = 0.5
# 					min = -20
# 				}					
# 			}	
# 			add = {
# 				desc = "DIPLOMATIC_ACCEPTANCE_ATTITUDE"
# 				if = {
# 					limit = {
# 						OR = {
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = protective
# 							}
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = domineering
# 							}							
# 						}
# 					}
# 					value = 40
# 				}
# 				if = {
# 					limit = {
# 						has_attitude = {
# 							who = scope:actor
# 							attitude = genial
# 						}
# 					}
# 					value = 30
# 				}				
# 				if = {
# 					limit = {
# 						OR = {
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = conciliatory
# 							}	
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = cooperative
# 							}							
# 						}
# 					}
# 					value = 20
# 				}
# 				if = {
# 					limit = {
# 						has_attitude = {
# 							who = scope:actor
# 							attitude = cautious
# 						}
# 					}
# 					value = -50
# 				}
# 				if = {
# 					limit = {
# 						OR = {
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = antagonistic
# 							}
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = belligerent
# 							}
# 							has_attitude = {
# 								who = scope:actor
# 								attitude = rebellious
# 							}
# 						}
# 					}
# 					value = -1000
# 				}
# 			}

# 			add = {
# 				desc = "DIPLOMATIC_ACCEPTANCE_RELATIONS"
# 				if = {
# 					limit = {
# 						"relations(scope:actor)" >= relations_threshold:amicable
# 						"relations(scope:actor)" < relations_threshold:friendly
# 					}
# 					value = 20
# 				}
# 				if = {
# 					limit = {
# 						"relations(scope:actor)" >= relations_threshold:friendly
# 					}
# 					value = 50
# 				}
# 			}

# 			add = {
# 				desc = "DIPLOMATIC_ACCEPTANCE_INFAMY"
# 				if = {
# 					limit = {
# 						"scope:actor.infamy" >= infamy_threshold:infamous
# 						"scope:actor.infamy" < infamy_threshold:notorious
# 					}
# 					value = -10
# 				}
# 				if = {
# 					limit = {
# 						"scope:actor.infamy" >= infamy_threshold:notorious
# 						"scope:actor.infamy" < infamy_threshold:pariah
# 					}
# 					value = -25
# 				}
# 				if = {
# 					limit = {
# 						"scope:actor.infamy" >= infamy_threshold:pariah
# 					}
# 					value = -50
# 				}
# 			}
# 		}

# 		will_break = { 
# 			OR = {
# 				has_attitude = {
# 					who = scope:target_country
# 					attitude = antagonistic
# 				}
# 				has_attitude = {
# 					who = scope:target_country
# 					attitude = belligerent
# 				}
# 				has_attitude = {
# 					who = scope:target_country
# 					attitude = rebellious
# 				}
# 				AND = {
# 					NOT = {
# 						has_law = law_type:law_council_republic
# 					}
# 					scope:target_country = {
# 						has_law = law_type:law_council_republic	
# 					}	
# 				}
# 			}
# 		}

# 		propose_score = {
# 			value = 10
# 		}

# 		propose_break_score = {
# 			value = 10
# 		}

# 		use_obligation_chance = {
# 			value = 25
# 		}

# 		owe_obligation_chance = {
# 			value = 0
# 		}
# 	}
# }
